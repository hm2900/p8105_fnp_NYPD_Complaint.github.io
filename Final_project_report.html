<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Final Project Report</title>

<script src="site_libs/header-attrs-2.16/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/yeti.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Home</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="proposal.html">About Us</a>
</li>
<li>
  <a href="descriptive_statistics.html">Descriptive Statistics</a>
</li>
<li>
  <a href="patterns.html">Comparison Patterns</a>
</li>
<li>
  <a href="shiny_dashboard.html">Shiny App</a>
</li>
<li>
  <a href="regression.html">Additional Analysis</a>
</li>
<li>
  <a href="report.html">Final Project Report</a>
</li>
<li>
  <a href="https://github.com/beryl66666/p8105_fnp_NYPDComplaint.git">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Final Project Report</h1>

</div>


<div id="motivation" class="section level1">
<h1>Motivation</h1>
<p>Crime rates in New York City have been recorded since at least the
1800s. The highest crime totals were recorded in the late 1980s and
early 1990s as the crack epidemic surged, and then declined continuously
through the 2000s. During the 1990s, the New York City Police Department
(NYPD) adopted CompStat and other strategies in a major effort to reduce
crime.</p>
<p>It is the fact that all of our team members have heard crime alerts
from NYPD frequently in the past year. Although we believe that New York
City is one of the safest big cities in the United States according to
the FBI, we have been so curious about the detailed information of
historical crimes happened in the New York City, especially in the
pattern where we are currently living.</p>
<p>Since in recent years the COVID-19 has brought huge effects to
people’s life, We are more interested in the changes of complaint each
year from 2020 to 2021, especially in the Manhattan borough. In this
project, we intended to explore the general information about complaint
data in the past two years, and to figure out if COVID-19 influenced the
rate or other attributes of crimes.</p>
<p>Thus, Our project aims to examine NYPD complaint data from January
2020 to December 2021 to understand the impact of COVID-19 on complaints
(crimes) in Manhattan.</p>
<p><em>Reference: <a
href="https://en.wikipedia.org/wiki/Crime_in_New_York_City"
class="uri">https://en.wikipedia.org/wiki/Crime_in_New_York_City</a></em></p>
</div>
<div id="related-work" class="section level1">
<h1>Related Work</h1>
<p>(Related work: Anything that inspired you, such as a paper, a web
site, or something we discussed in class.)</p>
<p><img src="data/NYC_Crime_Map_2021_2022.png" /></p>
<p><em>Pictured resource: <a href="https://maps.nyc.gov/crime/"
class="uri">https://maps.nyc.gov/crime/</a></em></p>
<p>Inspired by our regularly received crime alerts from Columbia
University Department of Public Safety, when we mentioned the crime rate
of NYC, all of our teammates showed great interest. When we googled it
for more information, the NYC Crime Map gave us a shock on the actual
number of crimes around us just from January 2021 to October 2022.</p>
<p>After some initial exploring, we successfully found that resources
about NYC crime and complaint data are sufficient and detailed. Based on
the information we have gathered, we decided to conduct our analysis on
the most recently published NYPD Compliant Data, which contained plenty
of attributes correlated with each complaint of crime happened and
recorded in the New York City.</p>
</div>
<div id="initial-questions" class="section level1">
<h1>Initial Questions</h1>
<p>Initially, we wanted to figure if the COVID-19 had any effects on the
complaints occurred in Manhattan (i.e., if the compliant rate changed,
etc.). In order to examine the changes on complaints and to correlate it
with the COVID-19 pandemic, we decided to use the complete NYPD
compliant data in year 2020 and 2021, which could represent the worst
period and the recovery period of the pandemic in recent years.</p>
<p>While we initiated the analyzing of our data, we found that despite
the number of complaints, we have gathered more information such as the
attributes of suspects and victims. Then we decided to do more
exploration about what could we get through the data to make peers like
us be safer.</p>
<p>Fortunately, the available data did allow us to explore what we cared
about. Ultimately, we landed on two main categories of exploration:</p>
<ol style="list-style-type: decimal">
<li><strong>Descriptive Statistics:</strong></li>
</ol>
<ul>
<li>What is the general distribution of all the complaints in two year
(2020 and 2021)?</li>
<li>When did the peak of complaints occurred? Where did most of
complaints occurred?</li>
<li>Was there any possible trend of compliant rate changes related with
the COVID-19 pandemic?</li>
<li>What were the most common characters of suspects and victims? What
about the premises?</li>
<li>Could we get any suggestions from the summary of complaints?</li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li><strong>Comparisons of complaints between 2020 vs
2021:</strong></li>
</ol>
<ul>
<li>What assumption could we made from the results of descriptive
statistics?</li>
<li>What changes could we see from the comparisons of complaint
frequencies between 2020 and 2021?</li>
<li>What changes could we see from the comparisons of complaint
distributions between 2020 and 2021?</li>
<li>What about the locations of complaints in the two years?</li>
<li>Did these changes support our assumption or not?</li>
</ul>
</div>
<div id="data" class="section level1">
<h1>Data</h1>
<p>The raw data we used was from <strong>NYC OpenData: NYPD Complaint
Data Historic</strong>: <a
href="https://data.cityofnewyork.us/Public-Safety/NYPD-Complaint-Data-Historic/qgea-i56i"
class="uri">https://data.cityofnewyork.us/Public-Safety/NYPD-Complaint-Data-Historic/qgea-i56i</a></p>
<p>The NYPD Complaint Data is public and readily available. The data
includes all valid felony, misdemeanor, and violation crimes reported to
the New York City Police Department (NYPD) from 2006 to the last updated
date, which was June 9, 2022 when we started our project.</p>
<p>The first and the most difficult challenge we have encountered was
that the original data was too large to be downloaded and analyzed - the
size was over 2 GB! It took us more than half an hour to obtain the
whole raw data, which contained 35 variables and more than 7 million
observations.</p>
<p>Then the first step to handle such a huge data set was to tidy out
the part that we wanted to focus on.</p>
<pre class="r"><code>nypd_complaint_data = 
  read_csv(&quot;./data/NYPD_Complaint_Data_Historic.csv&quot;) %&gt;%
  janitor::clean_names() %&gt;%
  drop_na(cmplnt_to_dt,cmplnt_to_tm) %&gt;%
  separate(cmplnt_fr_dt, into = c(&quot;month&quot;, &quot;day&quot;, &quot;year&quot;)) %&gt;%
  mutate(year = as.numeric(year),month = as.numeric(month), day = as.numeric(day)) %&gt;%
  filter(year &gt;= 2020)

write_csv(nypd_complaint_data, &quot;./data/2020_nypd_complaint_data.csv&quot;)

nypd_complaint_2020_data = 
  read_csv(&quot;./data/nypd_complaint_data.csv&quot;) %&gt;%
  filter(year == &quot;2020&quot;, boro_nm == &quot;MANHATTAN&quot;)

nypd_complaint_2021_data = 
  read_csv(&quot;./data/nypd_complaint_data.csv&quot;) %&gt;%
  filter(year == &quot;2021&quot;, boro_nm == &quot;MANHATTAN&quot;)

nypd_complaint_two_year_data = 
  read_csv(&quot;./data/nypd_complaint_data.csv&quot;) %&gt;%
  filter(year %in% c(&quot;2020&quot;, &quot;2021&quot;), boro_nm == &quot;MANHATTAN&quot;)

write_csv(nypd_complaint_2020_data, &quot;./data/nypd_complaint_2020_data.csv&quot;)

write_csv(nypd_complaint_2021_data, &quot;./data/nypd_complaint_2021_data.csv&quot;)

write_csv(nypd_complaint_two_year_data, &quot;./data/nypd_complaint_two_year_data.csv&quot;)</code></pre>
<p><em>Since the original data was too large to be uploaded online, we
only kept it in our local repository.</em> After the initial cleaning of
data, we made the following changes:</p>
<ul>
<li>clean all the variables’ name to be tidy enough to read,
<strong>drop those complaint records without exact ending date or time
of occurrence</strong></li>
<li>separate the <strong>exact date of occurrence for the reported
event</strong> into <strong>month, day, year</strong> for further
analysis</li>
<li>keep only complaints occurred and recorded in year
<strong>2020</strong> and <strong>2021</strong> (i.e., closely related
with COVID-19 pandemic)</li>
<li>choose the borough of <strong>Manhattan</strong> as our study of
interest (i.e., strict the pattern to where we live)</li>
<li>build new data frames from the resulted data and name as
<strong>nypd_complaint_2020_data</strong>,
<strong>nypd_complaint_2021_data</strong>,
<strong>nypd_complaint_two_year_data</strong> for further analysis</li>
</ul>
<pre class="r"><code>nypd_complaint_2020_data = 
  read_csv(&quot;./data/nypd_complaint_2020_data.csv&quot;)

nypd_complaint_2021_data = 
  read_csv(&quot;./data/nypd_complaint_2021_data.csv&quot;)

nypd_complaint_two_year_data = 
  read_csv(&quot;./data/nypd_complaint_two_year_data.csv&quot;)</code></pre>
<p>After we obtained the three data sets above,
<strong>nypd_complaint_2020_data</strong> had 88,484 observations of
complaint data and <strong>nypd_complaint_2021_data</strong> had 101,990
observations of complaint data.
<strong>nypd_complaint_two_year_data</strong> was the combination of
data from both 2020 and 2021, which had 190,474 observations. Here were
some of the important variables within all of the three data sets:</p>
<ul>
<li><code>cmplnt_num</code>: Randomly generated persistent ID for each
complaint</li>
<li><code>month</code>: Exact month of occurrence for the reported
event</li>
<li><code>day</code>: Exact day of occurrence for the reported
event</li>
<li><code>year</code>: Exact year of occurrence for the reported
event</li>
<li><code>addr_pct_cd</code>: The precinct in which the incident
occurred</li>
<li><code>ky_cd</code>: Three digit offense classification code</li>
<li><code>ofns_desc</code>: Description of offense corresponding with
key code</li>
<li><code>boro_nm</code>: The name of the borough in which the incident
occurred</li>
<li><code>prem_typ_desc</code>: Specific description of premises;
grocery store, residence, street, etc.</li>
<li><code>susp_age_group</code>: Suspect’s Age Group</li>
<li><code>susp_race</code>: Suspect’s Race Description</li>
<li><code>susp_sex</code>: Suspect’s Sex Description</li>
<li><code>latitude</code>: Midblock Latitude coordinate for Global
Coordinate System, WGS 1984, decimal degrees (EPSG 4326)</li>
<li><code>longitude</code>: Midblock Longitude coordinate for Global
Coordinate System, WGS 1984, decimal degrees (EPSG 4326)</li>
<li><code>vic_age_group</code>: Victim’s Age Group</li>
<li><code>vic_race</code>: Victim’s Race Description</li>
<li><code>vic_sex</code>: Victim’s Sex Description</li>
</ul>
</div>
<div id="exploratory-analysis" class="section level1">
<h1>Exploratory Analysis</h1>
<div id="descriptive-statistics" class="section level3">
<h3>Descriptive Statistics:</h3>
<p>AS an overview, here were the descriptive statistics about our
data.</p>
<p><strong>General distribution of complaints:</strong> First of all, we
made a plot to show the general distribution of all complaints in 2020
and 2021. Based on the information we got, we suggested that the average
daily complaint volume in Manhattan in 2021 seemed exceed that in 2020
since about February, and continued to the end of 2021. Moreover, the
complaint volume peaked in 2021 especially in May. Later then, we
started to make the assumption that the development of COVID-19 did have
great influence on the number of complaints in Manhattan.</p>
<pre class="r"><code>complaint_df = nypd_complaint_two_year_data %&gt;% 
  janitor::clean_names() %&gt;% 
  filter(
    !susp_age_group == c(&quot;UNKNNOWN&quot;),
     susp_age_group == c(&quot;&lt;18&quot;, &quot;18-24&quot;,&quot;25-44&quot;,&quot;45-64&quot;,&quot;65+&quot;),
    vic_age_group == c(&quot;&lt;18&quot;, &quot;18-24&quot;,&quot;25-44&quot;,&quot;45-64&quot;,&quot;65+&quot;)
  ) %&gt;% 
  mutate(
    susp_age_group = ifelse(susp_age_group %in% c(&quot;&lt;18&quot;, &quot;18-24&quot;, &quot;25-44&quot;, &quot;45-64&quot;, &quot;65+&quot;), susp_age_group, &quot;UNKNOWN&quot;),
    vic_age_group = ifelse(vic_age_group %in% c(&quot;&lt;18&quot;, &quot;18-24&quot;, &quot;25-44&quot;, &quot;45-64&quot;, &quot;65+&quot;), vic_age_group, &quot;UNKNOWN&quot;),
    vic_race = ifelse(is.na(vic_race), &quot;UNKNOWN&quot;, vic_race),
    vic_sex = ifelse(vic_sex %in% c(&quot;F&quot;, &quot;M&quot;), vic_sex, &quot;U&quot;),
    susp_sex = ifelse(susp_sex %in% c(&quot;F&quot;, &quot;M&quot;), susp_sex, &quot;U&quot;),
    susp_age_group = factor(susp_age_group),
    susp_race = factor(susp_race),
    susp_sex = factor(susp_sex),
    vic_age_group = factor(vic_age_group),
    vic_race = factor(vic_race),
    vic_sex = factor(vic_sex),
    boro_nm = factor(boro_nm)
  ) 
complaint_1 = 
  select(complaint_df, c(&quot;month&quot;, &quot;year&quot;, &quot;day&quot;, &quot;susp_age_group&quot; , &quot;boro_nm&quot; , &quot;loc_of_occur_desc&quot;, &quot;susp_sex&quot;, &quot;vic_age_group&quot;, &quot;vic_age_group&quot;, &quot;vic_sex&quot;)) 
complaint_1 = complaint_1 %&gt;% 
  mutate(
    month = as.numeric(month),
    month = str_pad(month,width = 2,side = &#39;left&#39;,pad = &#39;0&#39;),
    day = str_pad(day,width = 2,side = &#39;left&#39;,pad = &#39;0&#39;),
    month_day = str_c(month, &quot;-&quot;, day),
    month_day = factor(month_day)
    )
complaint_1 = complaint_1 &lt;- cbind(complaint_1[10],complaint_1[,1:9])
complaint_1 = arrange_dt(complaint_1,dt)</code></pre>
<pre class="r"><code>complaint_1 %&gt;% 
  group_by(month_day, year) %&gt;% 
  summarize(obs = n()) %&gt;% 
  ggplot(aes(x = month_day, y = obs, group = year, color = as.factor(year))) +
  geom_line() + 
  geom_smooth(se = FALSE) +
  labs(title = &quot;Number of Complaint in 2020 and 2021&quot;, x = &quot;Complaint Date&quot;, y = &quot;Number of Complaint&quot;, col = &quot;Year&quot;) + 
  theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust = 1, color = rep(c(&quot;black&quot;, rep(&quot;transparent&quot;, each = 15))))) +
  theme(plot.title = element_text(hjust = 0.5))</code></pre>
<p><img src="Final_project_report_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<p><strong>Characteristics of suspects:</strong> In order to get more
information about the most common suspects recorded in the NYPD
complaint data, We analyzed the distribution of major Characteristics
(gender and age group) of all the suspects in both 2020 and 2021.
Actually the most suspects were males aged between 25-44. This gave us
the suggestion that if we are alone and feel in case of danger, better
beware of men aged 25-40 around you.</p>
<pre class="r"><code>complaint_1 %&gt;% 
  group_by(susp_age_group, susp_sex) %&gt;% 
  summarize(obs = n()) %&gt;% 
  
  ggplot(aes(x = as.factor(susp_age_group), y = obs, group = susp_sex, color = as.factor(susp_sex))) +
  geom_line() + 
  geom_smooth() +
  labs(title = &quot;Number of complaint(suspects) in 2020 and 2021 by Age Group and Gender&quot;, x = &quot;Age group&quot;, y = &quot;Number of Complaint&quot;, col = &quot;Gender&quot;) </code></pre>
<p><img src="Final_project_report_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<p><strong>Characteristics of victims:</strong> In order to get more
information about the most common victims recorded in the NYPD complaint
data, We analyzed the distribution of major characteristics (gender and
age group) of all the victims in both 2020 and 2021. As we could see
from the results, the number of female victims in 2020 and 2021 was much
higher than male victims in Manhattan, and the victim age group was
heavily concentrated in between 25-44. If you are a young female, please
pay more attention to your personal safety when you are outside alone,
even in Manhattan.</p>
<pre class="r"><code>complaint_1 %&gt;% 
  group_by(vic_age_group, vic_sex) %&gt;% 
  summarize(obs = n()) %&gt;% 
  ggplot(aes(x = vic_age_group, y = obs, group = vic_sex, color = vic_sex)) +
  geom_line() + 
  geom_smooth() +
  labs(title = &quot;Number of complaint(victims) in 2020 and 2021 by Age Group and Gender&quot;, x = &quot;Age group&quot;, y = &quot;Number of Complaint&quot;, col = &quot;Gender&quot;) </code></pre>
<p><img src="Final_project_report_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p><strong>General distribution of premises:</strong> To figure out
which type of premises was/were the most dangerous for a complaint to
happen, we plotted the distribution of all the prime suspected victim
sites in Manhattan in both 2020 and 2021.The results was the safest
location one might considered as - home! The result was actually
reasonable if we thought about the background of COVID-19 pandemic at
the beginning. We may guess that in the worst period of COVID-19
outbreaks most people had been blocked in home instead of going out,
which led to a higher frequency of crimes occurred at home.</p>
<pre class="r"><code>complaint_df %&gt;% 
  group_by(prem_typ_desc) %&gt;% 
  count(prem_typ_desc) %&gt;% 
  filter(n &gt; 2) %&gt;% 
  mutate(prem_typ_desc = fct_reorder(prem_typ_desc, n)) %&gt;% 
  ggplot(aes(x = prem_typ_desc, y = n )) + 
  geom_point(aes(color = n),alpha = 0.5) + 
  geom_smooth( se = FALSE) +
  labs(title = &quot;Prime suspected victim site in 2020 and 2021&quot;,x = &quot;Location &quot;, y = &quot;Frequency&quot;) +
  theme(axis.text.x = element_text(angle = 60, hjust = 1)) +
  theme(plot.title = element_text(hjust = 0.5))</code></pre>
<p><img src="Final_project_report_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
</div>
<div id="comparisons-of-complaints-in-manhattan-between-2020-vs-2021"
class="section level3">
<h3>Comparisons of complaints in Manhattan between 2020 vs 2021:</h3>
<p>As part of our research body, we conducted several comparisons
between the two years based on our data sets.</p>
<p><strong>Number of monthly Complaints in Manhattan 2020 vs
2021:</strong> Since 2020 was the year that COVID-19 had almost the most
breakouts which restricted people’s social activities, while in 2021
people were more free from the negative effect from COVID-19, there
would be corresponding changes on the complaint and crime rates.
According to the comparison we made based on the number of complaints in
2020 and 2021, we confirmed our assumption. The number of complaints in
Manhattan of 2021 is more than in 2020 in most months. One of the
reasonable explanations may be the <strong>the effect of COVID-19 home
isolation policy</strong>, which caused a declined number of people in
social activities and resulted in the decreasing of number of complaints
in 2020 compared to 2021.</p>
<pre class="r"><code>complaint_plot = read_csv(&quot;./data/nypd_complaint_two_year_data.csv&quot;) %&gt;% 
  group_by(month,year) %&gt;% 
  summarize(obs = n()) %&gt;% 
  ggplot(aes(x = month, y = obs, group = year, color = as.factor(year))) + 
  geom_point() +
  geom_line() +
  labs(x = &quot;Month&quot;, y = &quot;Number of Complaints in Manhattan&quot;, col = &quot;Year&quot;) +
  ggtitle(&quot;Number of Complaints in Manhattan 2020 vs 2021&quot;) +
  theme(axis.text.x = element_text(angle = 60, vjust = 0.2, hjust = 0.5)) +
  scale_x_continuous(
    breaks = c(1,2,3,4,5,6,7,8,9,10,11,12), 
    labels = c(&quot;Jan&quot;,&quot;Feb&quot;,&quot;Mar&quot;,&quot;Apr&quot;,&quot;May&quot;,&quot;Jun&quot;,&quot;Jul&quot;,&quot;Aug&quot;,&quot;Sep&quot;,&quot;Oct&quot;,&quot;Nov&quot;,&quot;Dec&quot;)) +
  viridis::scale_color_viridis(discrete = T)

complaint_plot </code></pre>
<p><img src="Final_project_report_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<p><strong>Number of Complaints by Types 2020 vs 2021:</strong> In order
to know more details about the types of complaints while making
comparisons between year 2020 and 2021, we specified the number of each
types of compliant and selected those types with a number over
<strong>1000</strong> in both years as effective types of complaint in
our comparison. The resulted types were classified by the NYPD as
variable <code>ofns_desc</code> in the data set and listed as
following:</p>
<ul>
<li>PETIT LARCENY</li>
<li>HARRASSMENT</li>
<li>GRAND LARCENY</li>
<li>ASSAULT 3 &amp; RELATED OFFENSES</li>
<li>CRIMINAL MISCHIEF &amp; RELATED OF</li>
<li>FELONY ASSAULT</li>
<li>BURGLARY</li>
<li>ROBBERY</li>
<li>OFF. AGNST PUB ORD SENSBLTY &amp;</li>
<li>DANGEROUS DRUGS</li>
<li>MISCELLANEOUS PENAL LAW</li>
<li>OFFENSES AGAINST PUBLIC ADMINI</li>
<li>GRAND LARCENY OF MOTOR VEHICLE</li>
</ul>
<p>AS a result, that the numbers of complaints in 2021 for almost all
types were larger than in 2020. However, when we conducted further
comparisons on the proportion of different types of complaints in 2020
and 2021, the proportion of each type didn’t change a lot from 2020 to
2021. In both two years, <strong>PETIT LARCENY</strong>,
<strong>HARRASSMENT</strong> and <strong>GRAND LARCENY</strong> were the
main types of complaints.</p>
<pre class="r"><code>complaint_type_plot = read_csv(&quot;./data/nypd_complaint_two_year_data.csv&quot;)  %&gt;% 
  group_by(ofns_desc, year) %&gt;% 
  summarise(obs = n()) %&gt;% 
  filter(obs &gt; 1000) %&gt;% 
  filter(ofns_desc != &quot;SEX CRIMES&quot;) %&gt;% 
  filter(ofns_desc != &quot;VEHICLE AND TRAFFIC LAWS&quot;) %&gt;% 
  arrange(desc(obs)) %&gt;% 
  ggplot(aes(x = ofns_desc, y = obs, fill = as.factor(year))) +
  geom_bar(stat = &quot;identity&quot;,position = position_dodge()) +
  geom_text(aes(label = obs), vjust = 1.6, color = &quot;white&quot;,
            position = position_dodge(0.9), size = 1.5) +
  xlab(&quot;Types pf Complaints&quot;) + ylab(&quot;Number of Complaints&quot;) + 
  ggtitle(&quot;Number of Complaints by Types 2020 vs 2021&quot;) + 
  theme(axis.text.x = element_text(angle = 60, vjust = 1, hjust = 1, size = 5)) +
  scale_fill_discrete(name = &quot;Year&quot;) +
  viridis::scale_color_viridis(discrete = T)

complaint_type_plot</code></pre>
<p><img src="Final_project_report_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<pre class="r"><code>type_pie_2020 = read_csv(&quot;./data/nypd_complaint_2020_data.csv&quot;)  %&gt;% 
  group_by(ofns_desc) %&gt;% 
  summarise(obs = n()) %&gt;% 
  filter(obs &gt; 1000) %&gt;% 
  arrange(desc(obs)) %&gt;% 
  mutate(prop = round(obs/sum(obs)*100,2)) %&gt;% 
  ggplot(aes(x = &quot;&quot;, y = prop, fill = ofns_desc)) +
  geom_bar(stat = &quot;identity&quot;,width = 1, color = &quot;white&quot;)  +
  coord_polar(&quot;y&quot;, start = 0) +
  geom_text(aes(label = paste0(prop, &quot;%&quot;)), position = position_stack(vjust = 0.5), size = 2) +
  labs(x = NULL, y = NULL, title = &quot;2020&quot;)  +  
  theme(legend.title = element_text(size = 10),legend.key.size = unit(0.5, &#39;cm&#39;)) +
  theme(plot.margin = margin(0.1,0.1,0.1,0.1, &quot;cm&quot;)) +
  scale_fill_discrete(name = &quot;Complaint Type&quot;) +
  viridis::scale_color_viridis(discrete = F)

type_pie_2021 = read_csv(&quot;./data/nypd_complaint_2021_data.csv&quot;)  %&gt;% 
  group_by(ofns_desc) %&gt;% 
  summarise(obs = n()) %&gt;% 
  filter(obs &gt; 1000) %&gt;% 
  arrange(desc(obs)) %&gt;% 
  filter(ofns_desc != &quot;SEX CRIMES&quot;) %&gt;% 
  filter(ofns_desc != &quot;VEHICLE AND TRAFFIC LAWS&quot;) %&gt;% 
  mutate(prop = round(obs/sum(obs)*100,2)) %&gt;% 
  ggplot(aes(x = &quot;&quot;, y = prop, fill = ofns_desc)) +
  geom_bar(stat = &quot;identity&quot;,width = 1, color = &quot;white&quot;) +
  theme(legend.title = element_text(size = 10),legend.key.size = unit(0.5, &#39;cm&#39;)) +
  theme(plot.margin = margin(0.1,0.1,0.1,0.1, &quot;cm&quot;)) +
  coord_polar(&quot;y&quot;, start = 0) +
  geom_text(aes(label = paste0(prop, &quot;%&quot;)), position = position_stack(vjust = 0.5), size = 2) +
  labs(x = NULL, y = NULL, title = &quot;2021&quot;, fill = &quot;Complaint Type&quot; ) +
  viridis::scale_color_viridis(discrete = F)

par(mfrow = c(2,1))
type_pie_2020</code></pre>
<p><img src="Final_project_report_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<pre class="r"><code>type_pie_2021</code></pre>
<p><img src="Final_project_report_files/figure-html/unnamed-chunk-10-2.png" width="672" /></p>
<p><strong>Complaint Locations in Manhattan 2020 vs 2021:</strong> After
analyzing the number and types of complaints, we became more interested
in whether there is any difference in the distributions of complaint’s
specific locations in Manhattan between 2020 and 2021. If complaints
occurred in 2020 had a larger density than in 2021? Which patterns were
the most complaints occurred in each year? Was there any correlation
between the distribution of complaints and the COVID-19 status in 2020
and 2021?</p>
<p>We took locations that had <strong>10</strong> complaints and above
as the effective locations and made comparisons based on monthly
complaints in Manhattan in 2020 and 2021. Based on the results, we found
that the overall <strong>complaint density of 2021 is larger</strong>
than that in the 2020, especially in April, May and June. This had
confirmed our assumption that the recovery of social activities could
bring larger density of complaints. Meanwhile, we figured out that the
most complaints repeated <strong>in the upper city</strong> of Manhattan
in both of the two years, which meant that the upper city might be less
safer compared with other areas in Manhattan.</p>
<pre class="r"><code>complaint_data = read_csv(&quot;./data/nypd_complaint_two_year_data.csv&quot;) %&gt;% 
  mutate(month = as.integer(month)) %&gt;% 
  as_tibble(map_data(&quot;state&quot;)) 


complaint_month_2020 = read_csv(&quot;./data/nypd_complaint_2020_data.csv&quot;) %&gt;% 
  mutate(month = as.integer(month)) %&gt;% 
  group_by(month, latitude, longitude) %&gt;% 
  summarise(obs = n()) %&gt;% 
  filter(obs &gt;= 10)

complaint_month_2021 = read_csv(&quot;./data/nypd_complaint_2021_data.csv&quot;) %&gt;% 
  mutate(month = as.integer(month)) %&gt;% 
  group_by(month, latitude, longitude) %&gt;% 
  summarise(obs = n()) %&gt;% 
  filter(obs &gt;= 10)
  
map_2020 = 
  ggplot() +
  geom_point(data = complaint_month_2020, aes(x = longitude, y = latitude, size = 0.01, color = obs), alpha = 0.5) +
  scale_size(range = c(1,8)) +
  transition_time(month) +
    labs(
    title = &quot;2020 Month: {frame_time}&quot;, 
    color = &quot;Complaints&quot;,
    x = &quot;Longitude&quot;,
    y = &quot;Latitude&quot;) +
  enter_grow() +
  exit_shrink() +
  ease_aes(&quot;sine-in-out&quot;) +
  coord_cartesian(ylim = c(40.68, 40.87), xlim = c(-74.02, -73.925)) +
   viridis::scale_color_viridis()

map_2021 = 
  ggplot() +
  geom_point(data = complaint_month_2021, aes(x = longitude, y = latitude, size = 0.01, color = obs), alpha = 0.5) +
  scale_size(range = c(1,8)) +
  transition_time(month) +
    labs(
    title = &quot;2021 Month: {frame_time}&quot;, 
    color = &quot;complaints&quot;,
    x = &quot;Longitude&quot;,
    y = &quot;Latitude&quot;) +
  theme(legend.position = &quot;none&quot;) +
  enter_grow() +
  exit_shrink() +
  ease_aes(&quot;sine-in-out&quot;) +
  coord_cartesian(ylim = c(40.68, 40.87), xlim = c(-74.02, -73.925)) +
   viridis::scale_color_viridis()


map_gif_2020 = image_read(animate(map_2020, duration = 12, fps = 1, width = 400, height = 400))
map_gif_2021 = image_read(animate(map_2021, duration = 12, fps = 1, width = 400, height = 400))

new_month_gif = image_append(c(map_gif_2020[1], map_gif_2021[1]))
for (i in 2:12) {
  combined_month = image_append(c(map_gif_2020[i], map_gif_2021[i]))
  new_month_gif = c(new_month_gif, combined_month)
}

new_month_gif</code></pre>
<p><img
src="Final_project_report_files/figure-html/unnamed-chunk-11-1.gif" /><!-- --></p>
</div>
</div>
<div id="additional-analysis" class="section level1">
<h1>Additional Analysis</h1>
<p><strong>Test Independence between Victim Sex and Suspect
Sex：</strong></p>
<p>In order to enhance the confidence of our “safety suggestions”, we
used the chi-square test to explore whether there is a relationship
between the victim sex and suspect sex:</p>
<p>Hypotheses:</p>
<ul>
<li>Ho: sex of victim and sex of suspect are independent</li>
<li>Ha: sex of victim and sex of suspect are not independent</li>
</ul>
<p>As the results, the p-value of chi-square test was much smaller than
alpha = 0.05, we <strong>reject H0</strong>. We draw the conclusion that
sex of victim and sex of suspect are <em>not independent</em> at 0.05
significance level, which might indicate that male suspects and female
victims had the higher likelihood to be correlated with each other.</p>
<pre class="r"><code>sex_data = read_csv(&quot;./data/nypd_complaint_two_year_data.csv&quot;) %&gt;% 
  select(vic_sex, susp_sex) %&gt;% 
  na.omit() 

vF_sF = sex_data %&gt;% 
  filter(vic_sex == &quot;F&quot;) %&gt;% 
  filter(susp_sex == &quot;F&quot;) %&gt;% 
  count()
  
vM_sF = sex_data %&gt;% 
  filter(vic_sex == &quot;M&quot;) %&gt;% 
  filter(susp_sex == &quot;F&quot;) %&gt;% 
  count()
  
vF_sM = sex_data %&gt;% 
  filter(vic_sex == &quot;F&quot;) %&gt;% 
  filter(susp_sex == &quot;M&quot;) %&gt;% 
  count()
  
vM_sM = sex_data %&gt;% 
  filter(vic_sex == &quot;M&quot;) %&gt;% 
  filter(susp_sex == &quot;M&quot;) %&gt;% 
  count()

sex = matrix(c(9850,6199,29030, 26307), ncol = 2, byrow = T) 
colnames(sex) = c(&quot;Female&quot;,&quot;Male&quot;)
rownames(sex) = c(&quot;Female&quot;,&quot;Male&quot;)
sex %&gt;% 
  kbl(caption = &quot;Horizontal: Victim, Vertical: Suspect&quot;, ) %&gt;% 
  kable_classic(full_width = F, html_font = &quot;Cambria&quot;)</code></pre>
<table class=" lightable-classic" style="font-family: Cambria; width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
Horizontal: Victim, Vertical: Suspect
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
Female
</th>
<th style="text-align:right;">
Male
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Female
</td>
<td style="text-align:right;">
9850
</td>
<td style="text-align:right;">
6199
</td>
</tr>
<tr>
<td style="text-align:left;">
Male
</td>
<td style="text-align:right;">
29030
</td>
<td style="text-align:right;">
26307
</td>
</tr>
</tbody>
</table>
<pre class="r"><code>test_sex = matrix(c(9850,6199,29030, 26307), ncol = 2, byrow = T) 

chisq.test(test_sex)</code></pre>
<pre><code>## 
##  Pearson&#39;s Chi-squared test with Yates&#39; continuity correction
## 
## data:  test_sex
## X-squared = 398.25, df = 1, p-value &lt; 2.2e-16</code></pre>
<p><strong>Test Independence between Victim Race and Suspect
Race：</strong></p>
<p>We also used the chi-square test to explore whether there is a
relationship between the victim race and suspect race:</p>
<p>Hypotheses:</p>
<ul>
<li>Ho: race of victim and race of suspect are independent</li>
<li>Ha: race of victim and race of suspect are not independent</li>
</ul>
<p>As the results, the p-value of chi-square test was much smaller than
alpha = 0.05, we <strong>reject H0</strong>. We draw the conclusion that
race of victim and race of suspect are <em>not independent</em> at 0.05
significance level, which might indicate that young suspects and young
victims had the higher likelihood to be correlated with each other.</p>
<pre class="r"><code>race_data = read_csv(&quot;./data/nypd_complaint_two_year_data.csv&quot;) %&gt;% 
  group_by(vic_race, susp_race) %&gt;% 
  summarise(obs = n()) %&gt;% 
  na.omit() %&gt;% 
  pivot_wider(names_from = vic_race, values_from = obs)

table_race = race_data %&gt;% 
  as.matrix() %&gt;% 
  kbl(caption = &quot;Victim Race Corresponding to Suspect Race&quot;, align = &quot;c&quot;) %&gt;% 
  kable_classic(full_width = F, html_font = &quot;Cambria&quot;)

table_race</code></pre>
<table class=" lightable-classic" style="font-family: Cambria; width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
Victim Race Corresponding to Suspect Race
</caption>
<thead>
<tr>
<th style="text-align:center;">
susp_race
</th>
<th style="text-align:center;">
AMERICAN INDIAN/ALASKAN NATIVE
</th>
<th style="text-align:center;">
ASIAN / PACIFIC ISLANDER
</th>
<th style="text-align:center;">
BLACK
</th>
<th style="text-align:center;">
BLACK HISPANIC
</th>
<th style="text-align:center;">
UNKNOWN
</th>
<th style="text-align:center;">
WHITE
</th>
<th style="text-align:center;">
WHITE HISPANIC
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
AMERICAN INDIAN/ALASKAN NATIVE
</td>
<td style="text-align:center;">
28
</td>
<td style="text-align:center;">
28
</td>
<td style="text-align:center;">
38
</td>
<td style="text-align:center;">
9
</td>
<td style="text-align:center;">
76
</td>
<td style="text-align:center;">
46
</td>
<td style="text-align:center;">
25
</td>
</tr>
<tr>
<td style="text-align:center;">
ASIAN / PACIFIC ISLANDER
</td>
<td style="text-align:center;">
8
</td>
<td style="text-align:center;">
961
</td>
<td style="text-align:center;">
263
</td>
<td style="text-align:center;">
54
</td>
<td style="text-align:center;">
834
</td>
<td style="text-align:center;">
562
</td>
<td style="text-align:center;">
233
</td>
</tr>
<tr>
<td style="text-align:center;">
BLACK
</td>
<td style="text-align:center;">
179
</td>
<td style="text-align:center;">
2699
</td>
<td style="text-align:center;">
17206
</td>
<td style="text-align:center;">
1591
</td>
<td style="text-align:center;">
25616
</td>
<td style="text-align:center;">
6588
</td>
<td style="text-align:center;">
5838
</td>
</tr>
<tr>
<td style="text-align:center;">
BLACK HISPANIC
</td>
<td style="text-align:center;">
21
</td>
<td style="text-align:center;">
296
</td>
<td style="text-align:center;">
987
</td>
<td style="text-align:center;">
1486
</td>
<td style="text-align:center;">
3287
</td>
<td style="text-align:center;">
859
</td>
<td style="text-align:center;">
1788
</td>
</tr>
<tr>
<td style="text-align:center;">
UNKNOWN
</td>
<td style="text-align:center;">
218
</td>
<td style="text-align:center;">
4029
</td>
<td style="text-align:center;">
9702
</td>
<td style="text-align:center;">
2375
</td>
<td style="text-align:center;">
14251
</td>
<td style="text-align:center;">
13753
</td>
<td style="text-align:center;">
7897
</td>
</tr>
<tr>
<td style="text-align:center;">
WHITE
</td>
<td style="text-align:center;">
49
</td>
<td style="text-align:center;">
932
</td>
<td style="text-align:center;">
1283
</td>
<td style="text-align:center;">
241
</td>
<td style="text-align:center;">
8066
</td>
<td style="text-align:center;">
4896
</td>
<td style="text-align:center;">
1254
</td>
</tr>
<tr>
<td style="text-align:center;">
WHITE HISPANIC
</td>
<td style="text-align:center;">
45
</td>
<td style="text-align:center;">
797
</td>
<td style="text-align:center;">
2419
</td>
<td style="text-align:center;">
1050
</td>
<td style="text-align:center;">
9413
</td>
<td style="text-align:center;">
2371
</td>
<td style="text-align:center;">
7155
</td>
</tr>
</tbody>
</table>
<pre class="r"><code>matrix_race =  as.matrix(race_data) %&gt;% 
  as.integer() %&gt;% 
  na.omit()

chisq.test(matrix_race)</code></pre>
<pre><code>## 
##  Chi-squared test for given probabilities
## 
## data:  matrix_race
## X-squared = 397531, df = 48, p-value &lt; 2.2e-16</code></pre>
</div>
<div id="discussion" class="section level1">
<h1>Discussion</h1>
<p>The main goal of our project was to examine the potential influence
brought by the COVID-19 pandemic to the complaint data in Manhattan. Our
work showed that there did exist a relationship between the development
of COVID-19 and the changes in complaints in Manhattan of from 2020 to
2021.</p>
<p>Initially, we started to make the assumption that the development of
COVID-19 did have great influence on the number of complaints in
Manhattan after we saw the general distribution of all complaints in
2020 and 2021. Then the comparison we made based on the number of
complaints in 2020 and 2021 helped us confirmed our assumption. To
correlate it with the reality, we considered that one of the reasonable
explanations may be the <strong>the effect of COVID-19 home isolation
policy</strong>, which declined the number of people in social
activities and resulted in the decreasing of number of complaints in
2020 compared to 2021. The result from premise distributions made us to
be more convincing. Since a higher frequency of crimes occurred at home
would be reasonable if we remembered that in the worst period of
COVID-19 outbreaks most people had been blocked in home instead of going
out. Meanwhile, we found that the overall <strong>complaint density of
2021 was larger</strong> than that in the 2020. This had also supported
our assumption that the recovery of social activities could bring larger
density of complaints.</p>
<p>However, when we conducted further comparisons on the proportion of
different types of complaints in 2020 and 2021, the proportion of each
type didn’t change a lot from 2020 to 2021. we also figured out that the
most complaints repeated <strong>in the upper city</strong> of Manhattan
in both of the two years, which meant no significant differences in the
patterns where compliant occurred. These evidence might suggest that
although the COVID-19 pandemic had effects on the overall complaints in
Manhattan, the effect was not significant enough to change more detailed
attributes of complaints.</p>
<p>In addition, we also made discoveries about the tips on how to
improve personal safety from our analysis. The results we have derived
from data indicated that if we are alone and feel in case of danger, we
would better beware of men aged about 25-40 around us, who could most
likely to be the potential suspect. Besides, for young girls who prefers
to stay alone without protection, please pay more attention to your
personal safety since you have a higher possibility to be the potential
victim even in a safety city like NYC.</p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
